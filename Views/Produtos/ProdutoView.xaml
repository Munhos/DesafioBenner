<UserControl x:Class="WpfApp.Views.Produtos.ProdutoView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="450">

	<UserControl.Resources>
		<BooleanToVisibilityConverter x:Key="BoolToVis"/>
	</UserControl.Resources>

	<Border Padding="10">
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0 0 0 10" HorizontalAlignment="Left">

				<StackPanel Orientation="Vertical" Margin="0,0,10,0">
					<TextBlock Text="Nome" Margin="0 0 0 2"/>
					<TextBox Width="150" Text="{Binding FiltroNome, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>

				<StackPanel Orientation="Vertical" Margin="0,0,10,0">
					<TextBlock Text="Código" Margin="0 0 0 2"/>
					<TextBox Width="100" Text="{Binding FiltroCodigo, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>

				<StackPanel Orientation="Vertical" Margin="0,0,10,0">
					<TextBlock Text="Valor Min" Margin="0 0 0 2"/>
					<TextBox Width="80" Text="{Binding FiltroValorMin, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>

				<StackPanel Orientation="Vertical">
					<TextBlock Text="Valor Max" Margin="0 0 0 2"/>
					<TextBox Width="80" Text="{Binding FiltroValorMax, UpdateSourceTrigger=PropertyChanged}" />
				</StackPanel>

			</StackPanel>

			<DataGrid Grid.Row="1"
                      ItemsSource="{Binding ProdutosFiltrados}"
                      SelectedItem="{Binding ProdutoSelecionado, Mode=TwoWay}"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      IsReadOnly="True"
                      RowHeight="30"
                      GridLinesVisibility="Horizontal">
				<DataGrid.Columns>
					<DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
					<DataGridTextColumn Header="Nome" Binding="{Binding Nome}" Width="*"/>
					<DataGridTextColumn Header="Código" Binding="{Binding Codigo}" Width="*"/>
					<DataGridTextColumn Header="Valor" Binding="{Binding Valor}" Width="*"/>
				</DataGrid.Columns>
			</DataGrid>

			<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
				<Button Content="Incluir" Width="80" Command="{Binding AbrirNovoProdutoCommand}" Margin="0,0,5,0"/>
				<Button Content="Editar" Width="80" Command="{Binding EditarProdutoCommand}"
                        IsEnabled="{Binding ProdutoSelecionado, Converter={StaticResource BoolToVis}}" Margin="0,0,5,0"/>
				<Button Content="Excluir" Width="80" Command="{Binding ExcluirProdutoCommand}"
                        IsEnabled="{Binding ProdutoSelecionado, Converter={StaticResource BoolToVis}}"/>
			</StackPanel>
		</Grid>
	</Border>
</UserControl>
